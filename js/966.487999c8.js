(self["webpackChunkfine_admin"]=self["webpackChunkfine_admin"]||[]).push([[966,562],{7562:function(t,e,s){"use strict";s.r(e),s.d(e,{Bomb:function(){return r},Bullet:function(){return h},bombs:function(){return o},createRandomLeft:function(){return l},score:function(){return a}});var i=s(2482),n=s(4870);const o=[],a=(0,n.iH)(0);class h{constructor(t){(0,i.Z)(this,"el",void 0),(0,i.Z)(this,"top",void 0),(0,i.Z)(this,"can",void 0);const{left:e,top:s}=t.getBoundingClientRect();this.el=document.createElement("span"),this.el.classList.add("fighter"),this.el.style.left=e+8+"px",this.el.style.top=s-32+"px",document.body.appendChild(this.el),this.top=0,this.can=!0,window.requestAnimationFrame(this.start.bind(this))}start(){this.top+=2,this.el.style.transform=`translate3d(0,${-this.top}px,0)`;const{left:t,top:e,x:s}=this.el.getBoundingClientRect();for(let i=0;i<o.length;i++){const s=o[i],{left:n,top:a}=s.getRect();Math.abs(n-t)<32&&Math.abs(a-e)<32&&(s.destroy(),this.remove())}this.can&&(window.requestAnimationFrame(this.start.bind(this)),this.el.getBoundingClientRect().top<0&&this.remove())}remove(){this.can=!1,this.el.parentNode?.removeChild(this.el)}}class r{constructor(t){(0,i.Z)(this,"el",void 0),(0,i.Z)(this,"parent",void 0),(0,i.Z)(this,"top",void 0),(0,i.Z)(this,"can",void 0),(0,i.Z)(this,"maxTop",void 0),this.el=document.createElement("span"),this.el.classList.add("bomb"),this.top=0,this.can=!0,this.parent=t,t.appendChild(this.el);const{offsetWidth:e,offsetHeight:s}=this.parent;this.maxTop=s,this.create(e),window.requestAnimationFrame(this.start.bind(this))}create(t){this.el.style.left=l(t)+"px"}start(){this.top+=1,this.el.style.transform=`translate3d(0,${this.top}px,0)`,this.can&&(window.requestAnimationFrame(this.start.bind(this)),this.el.getBoundingClientRect().top>this.maxTop+80&&this.remove())}remove(){this.can=!1,this.el.parentNode?.removeChild(this.el);const t=o.indexOf(this);t>-1&&o.splice(t,1)}destroy(){this.can=!1,this.el.classList.add("blast"),a.value++,setTimeout((()=>{this.el.parentNode?.removeChild(this.el);const t=o.indexOf(this);t>-1&&o.splice(t,1)}),300)}getRect(){return this.el.getBoundingClientRect()}}const l=t=>{const e=32,s=Math.ceil(t/e),i=Math.ceil(Math.random()*s);return 32*i}},7338:function(t,e){!function(t,s){s(e)}(0,(function(t){"use strict";const e=t=>t instanceof TouchEvent;class s{constructor(t){const{root:s,moveCallback:i=(()=>{}),startCallback:n=(()=>{}),endCallback:o=(()=>{})}=t;this.hasMove=!0,this.isStart=!1,this.root=s;const a=[];let h=0,r=0,l=0,c=0,u=0;var d;this.startMethod=t=>{this.hasMove=!1,this.isStart=!0,"mousedown"===t.type&&t.preventDefault();const s=e(t)?t.touches[0]:t,{clientX:i,clientY:o}=s;c=i,u=o,r=i,l=o,h=t.timeStamp,n({startX:i,startY:o,event:t})},this.moveMethod=t=>{if(this.hasMove=!0,!this.isStart)return;const s=e(t)?t.touches[0]:t,{clientX:n,clientY:o}=s;i({movedX:n-c,movedY:o-u,stepX:n-r,stepY:o-l,event:t}),r=n,l=o,a.length>20&&a.splice(0,10),a.push(t),h=t.timeStamp},this.endMethod=t=>{if(!this.isStart)return;if(this.isStart=!1,!this.hasMove)return void(this.hasMove=!0);let s=0,i=0;if(t.timeStamp-h<=100){const t=a.length-1;let n=t;for(let e=t;e>=0;e--)a[e].timeStamp+100>h&&(n=e);if(n!==t){const o=a[t].timeStamp-a[n].timeStamp,h=a[n],c=e(h)?h.touches[0]:h,{clientX:u,clientY:d}=c;s=(r-u)/o*(1e3/60),i=(l-d)/o*(1e3/60)}}const n=e(t)?t.changedTouches[0]:t,{clientX:d,clientY:v}=n;o({movedX:d-c,movedY:v-u,speedX:s,speedY:i,event:t}),r=0,l=0,c=0,u=0,h=0,a.length=0},function(t,e){t.addEventListener("touchstart",e),t.addEventListener("mousedown",e)}(s,this.startMethod),d=this.moveMethod,document.addEventListener("touchmove",d),document.addEventListener("mousemove",d),function(t,e){document.addEventListener("touchend",e),document.addEventListener("touchcancel",e),document.addEventListener("mouseup",e)}(0,this.endMethod)}destroy(){var t,e;t=this.root,e=this.startMethod,t.removeEventListener("touchstart",e),t.removeEventListener("mousedown",e),function(t,e){document.removeEventListener("touchmove",e),document.removeEventListener("mousemove",e)}(this.root,this.moveMethod),function(t,e){document.removeEventListener("touchend",e),document.removeEventListener("touchcancel",e),document.removeEventListener("mouseup",e)}(this.root,this.endMethod)}}t.FineTouch=s,t.createTouch=t=>new s(t),Object.defineProperty(t,"__esModule",{value:!0})}))},2966:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return v}});var i=s(3396),n=s(7139),o=s(4870),a=s(7338),h=s(7562);const r={style:{height:"calc(100vh - 100px)","background-color":"#fff"}},l={class:"score"};var c=(0,i.aZ)({setup(t){const e=(0,o.iH)(),s=(0,o.iH)(0),c=(0,o.iH)(0),u=()=>{const{offsetHeight:t,offsetWidth:i}=e.value;s.value=i,c.value=t,(0,h.createRandomLeft)(i)},d=(0,o.iH)(),v={width:48,height:48},m=(0,o.iH)(10),p=(0,o.iH)(0),f=(0,o.Fl)((()=>-s.value/2)),b=(0,o.Fl)((()=>s.value/2)),g=(0,o.Fl)((()=>-(c.value-v.height))),M=(0,o.Fl)((()=>0)),w=(0,o.Fl)((()=>({transform:`translate3d(${m.value}px,${p.value}px,0)`}))),L=()=>{u(),(0,a.createTouch)({root:d.value,moveCallback({stepX:t,stepY:e}){m.value+=t,m.value=Math.max(f.value,m.value),m.value=Math.min(b.value,m.value),p.value+=e,p.value=Math.max(g.value,p.value),p.value=Math.min(M.value,p.value)}}),e.value&&new h.Bomb(e.value),d.value&&new h.Bullet(d.value);const t=()=>{d.value&&new h.Bullet(d.value),e.value&&h.bombs.push(new h.Bomb(e.value)),setTimeout(t,200)};t()};return(0,i.bv)(L),(t,s)=>((0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",{class:"starry-sky",ref_key:"container",ref:e},[(0,i._)("div",{class:"thunder-fighter",ref_key:"fighter",ref:d,style:(0,n.j5)((0,o.SU)(w))},null,4),(0,i._)("span",l,(0,n.zw)((0,o.SU)(h.score)),1)],512)]))}}),u=s(89);const d=(0,u.Z)(c,[["__scopeId","data-v-b5b56b2c"]]);var v=d}}]);
//# sourceMappingURL=966.487999c8.js.map